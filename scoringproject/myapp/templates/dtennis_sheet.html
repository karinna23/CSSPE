{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="{% static 'img/selogo.png' %}">
    <link rel="stylesheet" href="{% static 'css/stennis_sheet.css' %}">
    <title>DOUBLES TENNIS SCORESHEET</title>
</head>
<header>
    <div class="navbar">
    <div class="logo">
        <img src="{% static 'img/csspe.png' %}" alt="Logo">
    </div>
    <div class="nav-links">
        <ul>
            <li>
                <span>{{ username|upper  }}</span> <!-- Display Username -->
            </li>
            <li>
                <a href="/#">
                    <img src="{% static '/img/logout.png'%}"  alt="Match History" class="icon" placeholder="icon" /> <!-- Image as Icon -->
                    <span class="tooltip-text">Logout</span> <!-- Tooltip Text -->
                </a>
            </li>
        </ul>
    </div>
</div> 
<div class="sidebar">
    <h5>Scoring Board</h5>
    <hr class="bold-horizontal-line"> <!-- Apply a class to style the horizontal line -->
    <ul>
        <li><a href="/double_tennis_scoreboard">Mixed/Doubles Scoreboard</a></li>
    </ul>
    <h5>Match Sheet</h5>
    <hr class="bold-horizontal-line"> <!-- Apply a class to style the horizontal line -->
    <ul>
        <li><a href="/double_tennis_sheet">Mixed/Doubles Scoresheet</a></li>
    </ul>
    <h5>Display</h5>
    <hr class="bold-horizontal-line"> <!-- Apply a class to style the horizontal line -->
    <ul>
        <li><a href="/double_tennis_display">Mixed/Doubles Score Display</a></li>
    </ul>
</div>
</header>
<body>
    <h1>Double Tennis Scoresheet</h1>
    <div class="container">
        <form method="post">
            {% csrf_token %}
            <div class="form-section">
                <div class="match-info">
                <div class="columns">
                <div class="column">
                <label for="group">Group:</label><span id="group" name="group"></span>
                <input type="hidden" name="group">
                </div>
                <div class="column">
                <label for="Stage">Stage:</label><span id="stage" name="stage"></span>
                <input type="hidden" name="stage">
                </div>
                <div class="column">
                <label for="date">Date:</label><span id="date" name="date"></span>
                <input type="hidden" name="date">
                </div>
            </div>
            <div class="columns">
                <div class="column">
                    <label for="category">Category:</label><span id="category" name="category"></span>
                    <input type="hidden" name="category">
                </div>
                
                <div class="column">
                    <label for="time">Time:</label><span id="time" name="time"> HH:MM:SS</span>
                    <input type="hidden" name="time">
                </div> 
                <div class="column">
                    <label for="table">Table:</label><span id="table" name="table"></span>
                    <input type="hidden" name="table">
                </div>                      
            </div>

            <div class="columns">
                <div class="column">
                    <label for="match-no">Match No.:</label><span id="match-no" name="match_no"></span>
                    <input type="hidden" name="match_no">
                    </div>
                    <div class="column">
                        <label for="school-year">School Year:</label><span id="school-years" name="school_year" name="school_year"></span>
                        <input type="hidden" name="school_year">
                    </div>
                </div>
            </div>
                <div class="player-info">
                <div class="team player1-team">
                <h3>HOME</h3>
                <div class="team-info">
                    <div class="team-block">
                        <label for="player1-team-name">Player Name:</label><span id="player1-name" name="player1_name"></span>
                        <input type="hidden" name="player1_name">
                    </div>
                    <div class="team-block">
                        <label for="player3-team-name">Player Name:</label><span id="player2-name" name="player2_name"></span>
                        <input type="hidden" name="player2_name">
                    </div>
                </div>
                </div>

                <div class="team player2-team">
                <div class="team-info">
                    <div class="team-block">
                        <label for="player2-team-name">Player Name:</label><span id="player3-name" name="player3_name"></span>
                        <input type="hidden" name="player3_name">
                    </div>
                    <div class="team-block">
                        <label for="player4-team-name">Player Name:</label><span id="player4-name" name="player4_name"></span>
                        <input type="hidden" name="player4_name">
                    </div>
                </div>
                <h3>AWAY</h3>
                </div>
                </div>     
                <hr class="bold-horizontal-line"> <!-- Apply a class to style the horizontal line -->
            <div class="set-section">
                <div class="set-title" id="set-1">Set 1</div>
                <hr class="bold-horizontal-line"> <!-- Apply a class to style the horizontal line -->
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player1-score1" name="player1_score1">0</span>
                            <input type="hidden" name="player1_score1" value="0">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player2-score1" name="player2_score1">0</span>
                                <input type="hidden" name="player2_score1" value="0">
                            </div>                
                        </div>
                    </div>
                </div>
                <div class="time-winner">
                        <div class="winner">Winner: <span id="winner1" name="winner1"></span>
                            <input type="hidden" name="winner1" value="n/A">
                        </div>
                </div>
                <div class="set-title" id="set-2">Set 2</div>
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player1-score2" name="player1_score2">0</span>
                            <input type="hidden" name="player1_score2" value="0">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player2-score2" name="player2_score2">0</span>
                                <input type="hidden" name="player2_score2" value="0">
                            </div>                
                        </div>
                    </div>
                </div>
                <div class="time-winner">
                        <div class="winner">Winner: <span id="winner2" name="winner2"></span>
                            <input type="hidden" name="winner2" value="n/A">
                        </div>
                </div>
                <div class="set-title" id="set-3">Set 3</div>
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player1-score3" name="player1_score3">0</span>
                            <input type="hidden" name="player1_score3" value="0">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player2-score3" name="player2_score3">0</span>
                                <input type="hidden" name="player2_score3" value="0">
                            </div>                
                        </div>
                    </div>
                </div>
                <div class="time-winner">
                        <div class="winner">Winner: <span id="winner3" name="winner3"></span>
                            <input type="hidden" name="winner3" value="n/A">
                        </div>
                </div>
                <div class="set-title" id="set-4">Set 4</div>
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player1-score4" name="player1_score4">0</span>
                            <input type="hidden" name="player1_score4" value="0">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player2-score4" name="player2_score4">0</span>
                                <input type="hidden" name="player2_score4" value="0">
                            </div>                
                        </div>
                    </div>
                </div>
                <div class="time-winner">
                        <div class="winner">Winner: <span id="winner4" name="winner4"></span>
                            <input type="hidden" name="winner4" value="n/A">
                        </div>
                </div>
                <div class="set-title" id="set-5">Set 5</div>
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player1-score5" name="player1_score5">0</span>
                            <input type="hidden" name="player1_score5" value="0">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric">Score: <span id="player2-score5" name="player2_score5">0</span>
                                <input type="hidden" name="player2_score5" value="0">
                            </div>                
                        </div>
                    </div>
                </div>
                <div class="time-winner">
                        <div class="winner">Winner: <span id="winner5" name="winner5"></span>
                            <input type="hidden" name="winner5" value="n/A">
                        </div>
                </div>
                <div class="player-title" id="timeout-used">Timeout Used:</div>
                <div class="team-section">
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric"><span id="player1-timeout-used" name="player1_timeout">0</span>
                            <input type="hidden" name="player1_timeout">
                            </div>   
                        </div>
                    </div>
                    <div class="team-1">
                        <div class="metrics">
                            <div class="metric"><span id="player2-timeout-used" name="player2_timeout">0</span>
                            <input type="hidden" name="player2_timeout">
                            </div>   
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <div class="loser-winner">
                <div class="winning">
                    <label>Winning Team:</label><span id="winning-team" name="winning_team"></span>
                    <input type="hidden" name="winning_team"  value="{{ selected_winning_team }}">
                </div>                
                <div  class="losing">
                    <label>Losing Team:</label><span id="losing-team" name="losing_team"></span>
                    <input type="hidden" name="losing_team" value="{{ selected_losing_team }}">
                </div>   
            </div>   
            <div class="judge">
                <label for="judge1">Coach:</label><span id="coach1" name="coach1"></span>
                <input type="hidden" name="coach1">
                    
                    <label for="judge2">Coach:</label><span id="coach2" name="coach2"></span>
                    <input type="hidden" name="coach2">
            </div>
                <div class="other">
                    <label for="scorer">Umpire:</label><span id="umpire" name="umpire"></span>
                    <input type="hidden" name="umpire">
                </div>
                <button type="submit" class="btn-save">Save Sheet</button>
            </form>            
            <button id="reset-button" class="reset-button">Reset</button>
        </div>
<script>
function formatGameDuration(input) {
    // Remove any non-numeric characters from the input
    input.value = input.value.replace(/\D/g, '');
    
    // Add a colon after the first two characters (minutes)
    if (input.value.length > 2) {
        input.value = input.value.substring(0, 2) + ':' + input.value.substring(2);
    }
    
    // Limit the input to 5 characters
    if (input.value.length > 5) {
        input.value = input.value.substring(0, 5);
    }
    
    // Extract minutes and seconds
    const [minutes, seconds] = input.value.split(':').map(Number);
    
    // Enforce the limit of 59:59
    if (minutes > 59) {
        input.value = '59:59';
    } else if (seconds > 59) {
        input.value = minutes + ':59';
    }
}

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('reset-button').addEventListener('click', function() {
        // Reset UI elements on the scoreboard page
        document.getElementById('player1-name').textContent = '';
        document.getElementById('player2-name').textContent = '';
        document.getElementById('player3-name').textContent = '';
        document.getElementById('player4-name').textContent = '';
        document.getElementById('winner1').textContent = '';
        document.getElementById('winner2').textContent = '';
        document.getElementById('winner3').textContent = '';
        document.getElementById('winner4').textContent = '';
        document.getElementById('winner5').textContent = '';
        document.getElementById('player1-timeout-used').textContent = '0';
        document.getElementById('player2-timeout-used').textContent = '0';
        document.getElementById('player1-score1').textContent = '0';
        document.getElementById('player1-score2').textContent = '0';
        document.getElementById('player1-score3').textContent = '0';
        document.getElementById('player1-score4').textContent = '0';
        document.getElementById('player1-score5').textContent = '0';
        document.getElementById('player2-score1').textContent = '0';
        document.getElementById('player2-score2').textContent = '0';
        document.getElementById('player2-score3').textContent = '0';
        document.getElementById('player2-score4').textContent = '0';
        document.getElementById('player2-score5').textContent = '0';
        // Clear localStorage for each score and state
        localStorage.removeItem('player1-name');
        localStorage.removeItem('player2-name');
        localStorage.removeItem('player3-name');
        localStorage.removeItem('player4-name');
        localStorage.removeItem('player1-timeout-used');
        localStorage.removeItem('player2-timeout-used');
        localStorage.removeItem('player1-score1');
        localStorage.removeItem('player1-score2');
        localStorage.removeItem('player1-score3');
        localStorage.removeItem('player1-score4');
        localStorage.removeItem('player1-score5');
        localStorage.removeItem('player2-score1');
        localStorage.removeItem('player2-score2');
        localStorage.removeItem('player2-score3');
        localStorage.removeItem('player2-score4');
        localStorage.removeItem('player2-score5');
        localStorage.removeItem('winner1');
        localStorage.removeItem('winner2');
        localStorage.removeItem('winner3');
        localStorage.removeItem('winner4');
        localStorage.removeItem('winner5');


        localStorage.removeItem('initialMatchData2');

    });

    function updateUI2() {
        const initialData2 = JSON.parse(localStorage.getItem('initialMatchData2'));

        // Update UI with the latest data
        if (initialData2) {
            document.getElementById('player1-timeout-used').textContent = initialData2.player1Timeout;
            document.getElementById('player2-timeout-used').textContent = initialData2.player2Timeout;
            document.getElementById('player1-score1').textContent = initialData2.player1Set1;
            document.getElementById('player1-score2').textContent = initialData2.player1Set2;
            document.getElementById('player1-score3').textContent = initialData2.player1Set3;
            document.getElementById('player1-score4').textContent = initialData2.player1Set4;
            document.getElementById('player1-score5').textContent = initialData2.player1Set5;
            document.getElementById('player2-score1').textContent = initialData2.player2Set1;
            document.getElementById('player2-score2').textContent = initialData2.player2Set2;
            document.getElementById('player2-score3').textContent = initialData2.player2Set3;
            document.getElementById('player2-score4').textContent = initialData2.player2Set4;
            document.getElementById('player2-score5').textContent = initialData2.player2Set5;

            document.getElementById('time').textContent = initialData2.time;

            document.querySelector('input[name="time"]').value = initialData2.time;
        }
    }

    updateUI2();
    setInterval(updateUI2, 1000);

    function setInitialData2() {
        // Retrieve the initial data from localStorag
        const initialData2 = JSON.parse(localStorage.getItem('initialMatchData2'));
        document.getElementById('player1-timeout-used').textContent = initialData2.player1Timeout;
        document.getElementById('player2-timeout-used').textContent = initialData2.player2Timeout;
        document.getElementById('player1-score1').textContent = initialData2.player1Set1;
        document.getElementById('player1-score2').textContent = initialData2.player1Set2;
        document.getElementById('player1-score3').textContent = initialData2.player1Set3;
        document.getElementById('player1-score4').textContent = initialData2.player1Set4;
        document.getElementById('player1-score5').textContent = initialData2.player1Set5;
        document.getElementById('player2-score1').textContent = initialData2.player2Set1;
        document.getElementById('player2-score2').textContent = initialData2.player2Set2;
        document.getElementById('player2-score3').textContent = initialData2.player2Set3;
        document.getElementById('player2-score4').textContent = initialData2.player2Set4;
        document.getElementById('player2-score5').textContent = initialData2.player2Set5;
        document.getElementById('time').textContent = initialData2.time;
    }

    // Call the function to set initial data when the DOM content is loaded
    setInitialData2();
    setInterval(setInitialData2, 1000);
});

document.addEventListener('DOMContentLoaded', function() {
    const player1ScoreElements = [
        document.getElementById('player1-score1'),
        document.getElementById('player1-score2'),
        document.getElementById('player1-score3'),
        document.getElementById('player1-score4'),
        document.getElementById('player1-score5')

    ];
    const player2ScoreElements = [
        document.getElementById('player2-score1'),
        document.getElementById('player2-score2'),
        document.getElementById('player2-score3'),
        document.getElementById('player2-score4'),
        document.getElementById('player2-score5')
    ];

    const winnerElements = [
        document.getElementById('winner1'),
        document.getElementById('winner2'),
        document.getElementById('winner3'),
        document.getElementById('winner4'),
        document.getElementById('winner5')
    ];

    function updateWinners2() {
        let player1Wins = 0;
        let player2Wins = 0;
    
        for (let i = 0; i < player1ScoreElements.length; i++) {
            const player1Score = parseInt(player1ScoreElements[i].textContent);
            const player2Score = parseInt(player2ScoreElements[i].textContent);
    
            // Retrieve team names from the respective elements
            const player1TeamName = document.getElementById('player1-name').textContent + " , " + document.getElementById('player2-name').textContent;
            const player2TeamName = document.getElementById('player3-name').textContent + " , " + document.getElementById('player4-name').textContent;
    
            if (!isNaN(player1Score) && !isNaN(player2Score)) {
                if (player1Score > player2Score) {
                    winnerElements[i].textContent = player1TeamName;
                    winnerElements[i].value = player1TeamName;
                    player1Wins++;
                } else if (player2Score > player1Score) {
                    winnerElements[i].textContent = player2TeamName;
                    winnerElements[i].value = player2TeamName;
                    player2Wins++;
                } else {
                    winnerElements[i].textContent = 'TBA';
                    winnerElements[i].value = 'TBA';
                }
            } else {
                winnerElements[i].textContent = 'n/A';
                winnerElements[i].value = 'n/A';
            }
        }
    
        let winningTeam, losingTeam;
        if (player1Wins > player2Wins) {
            winningTeam = document.getElementById('player1-name').textContent + " , " + document.getElementById('player2-name').textContent;
            losingTeam = document.getElementById('player3-name').textContent + " , " + document.getElementById('player4-name').textContent;
        } else if (player2Wins > player1Wins) {
            winningTeam = document.getElementById('player1-name').textContent + " , " + document.getElementById('player2-name').textContent;
            losingTeam = document.getElementById('player3-name').textContent + " , " + document.getElementById('player4-name').textContent;
        } else {
            winningTeam = 'TBA';
            losingTeam = 'TBA';
        }
    
        // Update the UI with winning and losing team names
        document.getElementById('winning-team').textContent = winningTeam;
        document.getElementById('winning-team').value = winningTeam;
        document.getElementById('losing-team').textContent = losingTeam;
        document.getElementById('losing-team').value = losingTeam;
    }
    
    updateWinners2();
    setInterval(updateWinners2, 1000);
});
document.addEventListener('DOMContentLoaded', function() {
    // Retrieve elements
    const selectedWinningTeamElement = document.getElementById('winning-team');
    const selectedLosingTeamElement = document.getElementById('losing-team');
    const player1Score1Element = document.getElementById('player1-score1');
    const player1Score2Element = document.getElementById('player1-score2');
    const player1Score3Element = document.getElementById('player1-score3');
    const player1Score4Element = document.getElementById('player1-score4');
    const player1Score5Element = document.getElementById('player1-score5');
    const player2Score1Element = document.getElementById('player2-score1');
    const player2Score2Element = document.getElementById('player2-score2');
    const player2Score3Element = document.getElementById('player2-score3');
    const player2Score4Element = document.getElementById('player2-score4');
    const player2Score5Element = document.getElementById('player2-score5');
    const winner1Element = document.getElementById('winner1');
    const winner2Element = document.getElementById('winner2');
    const winner3Element = document.getElementById('winner3');
    const winner4Element = document.getElementById('winner4');
    const winner5Element = document.getElementById('winner5');
    const player1TimeoutElement = document.getElementById('player1-timeout-used');
    const player2TimeoutElement = document.getElementById('player2-timeout-used');

    const player1Score1 = player1Score1Element.textContent
    const player1Score2 = player1Score2Element.textContent
    const player1Score3 = player1Score3Element.textContent
    const player1Score4 = player1Score4Element.textContent
    const player1Score5 = player1Score5Element.textContent
    const player2Score1 = player2Score1Element.textContent
    const player2Score2 = player2Score2Element.textContent
    const player2Score3 = player2Score3Element.textContent
    const player2Score4 = player2Score4Element.textContent
    const player2Score5 = player2Score5Element.textContent
    const winner1 = winner1Element.textContent
    const winner2 = winner2Element.textContent
    const winner3 = winner3Element.textContent
    const winner4 = winner4Element.textContent
    const winner5 = winner5Element.textContent
    const player1Timeout = player1TimeoutElement.textContent
    const player2Timeout = player2TimeoutElement.textContent
    const selectedWinningTeamId = selectedWinningTeamElement.textContent
    const selectedLosingTeamId = selectedLosingTeamElement.textContent

    console.log("Selected Winning Team:", selectedWinningTeamId);
    console.log("Selected Losing Team:", selectedLosingTeamId);
    console.log("Player 1 Scores:", player1Score1, player1Score2, player1Score3, player1Score4, player1Score5);
    console.log("Player 2 Scores:", player2Score1, player2Score2, player2Score3, player2Score4, player2Score5);
    console.log("Winners:", winner1, winner2, winner3, winner4, winner5);
    console.log("Player 1 Timeout Used:", player1Timeout);
    console.log("Player 2 Timeout Used:", player2Timeout);


    document.querySelector('input[name="player1_score1"]').value = player1Score1;
    document.querySelector('input[name="player1_score2"]').value = player1Score2;
    document.querySelector('input[name="player1_score3"]').value = player1Score3;
    document.querySelector('input[name="player1_score4"]').value = player1Score4;
    document.querySelector('input[name="player1_score5"]').value = player1Score5;
    document.querySelector('input[name="player2_score1"]').value = player2Score1;
    document.querySelector('input[name="player2_score2"]').value = player2Score2;
    document.querySelector('input[name="player2_score3"]').value = player2Score3;
    document.querySelector('input[name="player2_score4"]').value = player2Score4;
    document.querySelector('input[name="player2_score5"]').value = player2Score5;
    document.querySelector('input[name="winner1"]').value = winner1;
    document.querySelector('input[name="winner2"]').value = winner2;
    document.querySelector('input[name="winner3"]').value = winner3;
    document.querySelector('input[name="winner4"]').value = winner4;
    document.querySelector('input[name="winner5"]').value = winner5;
    document.querySelector('input[name="player1_timeout"]').value = player1Timeout;
    document.querySelector('input[name="player2_timeout"]').value = player2Timeout;
    document.querySelector('input[name="winning_team"]').value = selectedWinningTeamId;
    document.querySelector('input[name="losing_team"]').value = selectedLosingTeamId;
    // You can use these values as needed in your code
});

function updateDtennis() {
    // Retrieve the initial data from localStorage
    const dtennisData = JSON.parse(localStorage.getItem('dtennisData'));

    // Update UI with the latest data
    if (dtennisData) {
        // Update the visible elements
        document.getElementById('school-years').textContent = dtennisData.gameInfo.schoolYearText;
        document.getElementById('group').textContent = dtennisData.gameInfo.group;
        document.getElementById('stage').textContent = dtennisData.gameInfo.stage;
        document.getElementById('date').textContent = dtennisData.gameInfo.date;
        document.getElementById('category').textContent = dtennisData.gameInfo.category;
        document.getElementById('match-no').textContent = dtennisData.gameInfo.matchNo;
        document.getElementById('table').textContent = dtennisData.gameInfo.table;

        document.getElementById('player1-name').textContent = dtennisData.player1Info.playerNameText;
        document.getElementById('player2-name').textContent = dtennisData.player2Info.playerNameText;
        document.getElementById('player3-name').textContent = dtennisData.player3Info.playerNameText;
        document.getElementById('player4-name').textContent = dtennisData.player4Info.playerNameText;
        document.getElementById('coach1').textContent = dtennisData.officials.coach1Text;
        document.getElementById('coach2').textContent = dtennisData.officials.coach2Text;
        document.getElementById('umpire').textContent = dtennisData.officials.umpireText;

        // Update hidden input fields with data
        document.querySelector('input[name="school_year"]').value = dtennisData.gameInfo.schoolYear;
        document.querySelector('input[name="group"]').value = dtennisData.gameInfo.group;
        document.querySelector('input[name="stage"]').value = dtennisData.gameInfo.stage;
        document.querySelector('input[name="date"]').value = dtennisData.gameInfo.date;
        document.querySelector('input[name="category"]').value = dtennisData.gameInfo.category;
        document.querySelector('input[name="match_no"]').value = dtennisData.gameInfo.matchNo;
        document.querySelector('input[name="table"]').value = dtennisData.gameInfo.table;
        
        // Update hidden input fields for player names
        document.querySelector('input[name="player1_name"]').value = dtennisData.player1Info.playerName;
        document.querySelector('input[name="player2_name"]').value = dtennisData.player2Info.playerName;
        document.querySelector('input[name="player3_name"]').value = dtennisData.player3Info.playerName;
        document.querySelector('input[name="player4_name"]').value = dtennisData.player4Info.playerName;
        
        // Officials information
        document.querySelector('input[name="coach1"]').value = dtennisData.officials.coach1;
        document.querySelector('input[name="coach2"]').value = dtennisData.officials.coach2;
        document.querySelector('input[name="umpire"]').value = dtennisData.officials.umpire;
        
    }
}
updateDtennis();
setInterval(updateDtennis, 1000);

</script>    
</body>
</html>
